<html>
    <head>
      <link rel="stylesheet" href="index.css">

      <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/vuex/3.1.0/vuex.js"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.18.0/axios.min.js"></script>

      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      <meta name="author" content="Teemu Puukko">
      <meta name="description" content="description here">
      <meta name="keywords" content="keywords,here">
      
      <title>Forza / Calculator</title>

    </head>
    <body>
        
      <!-- Main application view -->
      <div class="forzacalculator">

        <div class="header">
          <h1>{{header}} - {{websocketConnectionStatus}}</h1>
        </div>

        <div class="playercontainer">
            <player v-for="player in players"
            v-bind:player="player"
            v-bind:key="player.id"
            v-bind:id="player.id">
          </player>
        </div>
      </div>
      <!-- Main application view end -->

      <!-- Component templates -->       
      <script type="text/x-template" id="player-template">
        <div class="player">

          <h2>{{player.name}}</h2>

          <div class="gridcontainer">
            <span class="text">17</span>
            
            <input type="number"
                inputmode="numeric" pattern="[0-9]*" 
                :value="player.points[17]"
                data-value="17"
                @input="pointUpdated"
                v-bind:class="{ 'error': errors.points[17] }" />
  

            <span class="text">D</span>
            <input type="number"
                  inputmode="numeric" pattern="[0-9]*" 
                  :value="player.points.d"
                  data-value="d"
                  @input="pointUpdated"
                  v-bind:class="{ 'error': errors.points.d }" />       
  
            <span class="text">18</span>
            <input type="number"
                  inputmode="numeric" pattern="[0-9]*"
                  :value="player.points[18]" 
                  data-value="18"
                  @input="pointUpdated"
                  v-bind:class="{ 'error': errors.points[18] }" />    
  
            <span class="text">T</span>
            <input type="number"
                  inputmode="numeric" pattern="[0-9]*"
                  :value="player.points.t" 
                  data-value="t"
                  @input="pointUpdated"
                  v-bind:class="{ 'error': errors.points.t }" />    
  
            <span class="text">19</span>
            <input type="number"
                    inputmode="numeric" pattern="[0-9]*"
                    :value="player.points[19]" 
                    data-value="19"
                    @input="pointUpdated"
                    v-bind:class="{ 'error': errors.points[19] }" />
  
            <span class="text">R</span>
            <input type="number"
                    inputmode="numeric" pattern="[0-9]*"
                    :value="player.points.r" 
                    data-value="r"
                    @input="pointUpdated"
                    v-bind:class="{ 'error': errors.points.r }" />       
  
            <span class="text">20</span>
            <input type="number"
                  inputmode="numeric" pattern="[0-9]*"
                  :value="player.points[20]" 
                  data-value="20"
                  @input="pointUpdated"
                  v-bind:class="{ 'error': errors.points[20] }" />    
  
            <span class="text">B</span>
            <input type="number"
                  inputmode="numeric" pattern="[0-9]*"
                  :value="player.points.b"
                  data-value="b"
                  @input="pointUpdated"
                  v-bind:class="{ 'error': errors.points.b }" />
             
          </div>
               
          <span>Total:</span><span>{{totalScores}}</span>

        </div>
      </script>

      <script src="forza-websocket-client.js"></script>
      <script src="index.js"></script>


    </body>
</html>